<!DOCTYPE html>
<html>
<head>
<style type="text/css">
nav#nav1{ margin-top: 24px;}
nav#nav1 > a{
    background: #B9E1FF;
    margin: 1px;
    color: #000;
    padding: 10px;
    text-decoration: none;
    border-radius: 5px;
    font-family:"Arial Black", Gadget, sans-serif;
}

nav#nav1 > a:hover{ background: #BBEA00;}
nav#nav1 > a:active{ background: #EEFFA8;}
</style>

<script type="text/javascript" source="https://github.com/dingram/jsmidgen/blob/master/lib/jsmidgen.js">

//create note objects
var a = new Audio(),
    as = new Audio(),
    b = new Audio(),
    c = new Audio(),
    cs = new Audio(),
    d = new Audio(),
    ds = new Audio(),
    e = new Audio(),
    f = new Audio(),
    fs = new Audio(),
    g = new Audio()
    gs = new Audio();

a.src = "A.mp3";
as.src = "AS.mp3";
b.src = "B.mp3";
c.src = "C.mp3"; 
cs.src = "CS.mp3";
d.src = "D.mp3";
ds.src = "DS.mp3";
e.src = "E.mp3";
f.src = "F.mp3";
fs.src = "FS.mp3";
g.src = "G.mp3";
gs.src = "GS.mp3";

var a_note = {
    name:"A",
    tone: a
};
var as_note = {
    name : "#A",
    tone: as
};
var b_note = {
    name : "B",
    tone: b
};
var c_note = {
    name : "C",
    tone: c
};
var cs_note = {
    name : "#C",
    tone: cs
};
var d_note = {
    name : "D",
    tone: d
};
var ds_note = {
    name : "#D",
    tone: ds
};
var e_note = {
    name : "E",
    tone: e
};
var f_note = {
    name : "F",
    tone: f
};
var fs_note = {
    name : "#F",
    tone: fs
};

var g_note = {
    name : "G",
    tone: g
};
var gs_note = {
    name : "#G",
    tone: gs
};

var note_inventory = [a_note, as_note, b_note, c_note, cs_note, d_note, ds_note, e_note, f_note, fs_note, g_note, gs_note];

var notes = [];

function add_note(note) {
    notes.push(note.name); // = notes + " " + note.name;
}

function ex_note(note) {
    note.tone.play();
    add_note(note);
    document.getElementById('disp_notes').innerHTML = notes.join(", ");

}

function play_note(note) {
    note.tone.play();
}

function sleep(miliseconds) {
           var currentTime = new Date().getTime();

           while (currentTime + miliseconds >= new Date().getTime()) {
           }
       }

function playback(){
    //locate note by name
    var cur_note = a_note;
    var i;
    var j;
    var time = 1000;
    var num = 0;
    for (i = 0; i < notes.length; i++) {
        if (cur_note == notes[i]) {
            setTimeout(play_note(cur_note), time);
            time = time + 1000;
        } else {
            //loop over names
            for (j = 0; j < note_inventory.length; j++) {
                if (notes[i] == note_inventory[j].name) {
                    cur_note = note_inventory[j];
                    setTimeout(play_note(cur_note), time);
                    time = time + 1000;
                    break;
                }
            }
        }
    }
}

document.onkeydown = function(event){
    var key_press = String.fromCharCode(event.keyCode);
    var key_code = event.keyCode;

    document.getdElementById('kp').innerHTML = key_press; 
    document.getElementById('kc').innerHTML = key_code;

    status.innerHTML = "Down Event Fired For: " + key_press;

    var bleeps =  [c_note, d_note, e_note, f_note, g_note, a_note, b_note, c_note];

    var keyPresses = ['A', 'S', 'D', 'F', 'G', 'H', 'J', 'K'];

    var index = keyPresses.indexOf(key_press);

    if (index == -1)
    {
        document.getElementById('status').innerHTML = 'Only Press on the Second Row... ASDFGHJK';
    }
    else 
    {
        ex_note(bleeps[index]);
    }
}



</script>
</head>


<body>

<h2> Javascript Capture Keyboard Input </h2> 

Key Pressed: <span id = "kp"> </span> 
<br /> 
Key Code: <span id = "kc"> </span>

<p id = "status"> Keyboard Event Status </p>
	<nav id="nav1">
        <a onmousedown="ex_note(a_note)"> A </a>
        <a onmousedown="ex_note(as_note)"> A# </a>
        <a onmousedown="ex_note(b_note)"> B </a>
        <a onmousedown="ex_note(c_note)"> C </a>
        <a onmousedown="ex_note(cs_note)"> C# </a>
        <a onmousedown="ex_note(d_note)"> D </a>
        <a onmousedown="ex_note(ds_note)"> D# </a>
        <a onmousedown="ex_note(e_note)"> E </a>
        <a onmousedown="ex_note(f_note)"> F </a>
        <a onmousedown="ex_note(fs_note)"> F# </a>
        <a onmousedown="ex_note(g_note)"> G </a>
        <a onmousedown="ex_note(gs_note)"> G# </a>
        <a onmousedown="playback()"> Playback </a>
	</nav>
    <p> Current notes are:</p>
    <p id = "disp_notes"></p>



</body>
</html>